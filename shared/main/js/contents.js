var contents;!function(t){(contents||(contents={})).check=function(){!function t(){"undefined"==typeof aidn||"undefined"==typeof jQuery?setTimeout(function(){return t()},10):$(function(){(new e).initialize()})}()};var a=function(){function t(){}return t.stw=0,t.sth=0,t._ct=0,t}(),l=function(){function t(){}return t.PATH_BLANK="../shared/main/img/contents/blank.png",t}(),e=function(){function t(){this._cates=[],a.main=this}return t.prototype.initialize=function(){var e=this;a.isMobile=aidn.util.checkMobile();var t="../shared/main/data/contents.json",n=$("body").attr("data-ver");n&&(t+="?"+n),$.ajax({url:t,contentType:"json"}).then(function(t){return e._loadComplete(t)})},t.prototype._loadComplete=function(t){for(var e=this,n=t.datas.length,i=0;i<n;i++)this._cates.push((new s).init(t.datas[i]));aidn.window.resize(function(){return e._resize()},!1),$(window).on("scroll",function(){return e._scroll()}),this._resize()},t.prototype._resize=function(){a.stw=aidn.window.width(),a.sth=aidn.window.height(),this._checkCate()},t.prototype._scroll=function(){this._checkCate()},t.prototype.check=function(){this._checkCate()},t.prototype._checkCate=function(){for(var t=$(window).scrollTop(),e=this._cates.length,n=0;n<e;n++)this._cates[n].check(t)},t}(),s=function(){function t(){this._panels=[],this._subPanels=[],this._useOthers=!1,this._isShowed=!1}return t.prototype.init=function(t){var e=this;if(!t)return this;$("#contents").append('<p class="title">'+t.title+"</p>");for(var n=$('<div class="contents"></div>'),i=t.list.length,s=[],o=0;o<i;o++){var h=t.list[o];if(!a.isMobile||1!=h.pc){var c=(new p).init(h,t.base);1!=h.sub?(this._panels.push(c),n.append(c.element)):(c.hide(),s.push(c))}}i=(this._subPanels=s).length;for(o=0;o<i;o++)n.append(s[o].element);if(0<s.length){var r=$('<a href=""><span class="others"><img src="'+l.PATH_BLANK+'"><p>+ OTHERS</p></span></a>');r.on("click",function(t){return e._clickOthers(t)}),n.append(r)}return $("#contents").append(n),aidn.util.initStandAlone(),this},t.prototype.check=function(t){var e,n;for(n=this._panels.length,e=0;e<n;e++)this._panels[e].checkPanel(t);if(this._useOthers)for(n=this._subPanels.length,e=0;e<n;e++)this._subPanels[e].checkPanel(t)},t.prototype._clickOthers=function(t){t.preventDefault();var e=$(t.currentTarget).children("span").children("p");this._isShowed?e.text("+ OTHERS"):e.text("- OTHERS");for(var n=this._subPanels.length,i=0;i<n;i++)this._isShowed?this._subPanels[i].hide():this._subPanels[i].show();this._useOthers=!0,a.main.check(),this._isShowed=!this._isShowed},t}(),p=function(){function t(){this._isOk=!1,this._scTop=0,this._showed=!0}return Object.defineProperty(t.prototype,"element",{get:function(){return this._elem},enumerable:!0,configurable:!0}),t.prototype.show=function(){this._showed=!0,this._elem.css("display","inline")},t.prototype.hide=function(){this._showed=!1,this._elem.css("display","none")},t.prototype.init=function(t,e){var n,i=this;(void 0===e&&(e=""),this._isOk=!0,t.img?(this._imgPath=e+t.img,n=$('<a href="'+t.url+'"><span><img src="'+l.PATH_BLANK+'"><p class="loading">'+t.title+"</p></span></a>")):n=$('<a href="'+t.url+'"><span class="blank"><img src="'+l.PATH_BLANK+'"><p>'+t.title+"</p></span></a>"),this._elem=n,t.img)&&(this._elem.children("span").children("img").get(0).onload=function(){return i._complete()});return this},t.prototype._complete=function(){this._isOk=!1,this._showed&&this.checkPanel(this._scTop),0==a._ct&&($("#loading").hide(),$("#contents").show()),a._ct++},t.prototype.checkPanel=function(t){var e=this;if(this._scTop=t,!this._isOk){var n=this._elem.offset().top,i=a.sth;if(t-.5*i<n&&n<t+1.3*i){var s=this._elem.children("span").children("img").get(0);s.onload=function(){return e._complete2()},s.src=this._imgPath,this._isOk=!0}}},t.prototype._complete2=function(){this._elem.children("span").children("p").hide()},t}()}(),contents.check();